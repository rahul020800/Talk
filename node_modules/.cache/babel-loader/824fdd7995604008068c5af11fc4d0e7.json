{"ast":null,"code":"var _jsxFileName = \"E:\\\\Me\\\\Projects\\\\Messanger Clone\\\\React-Messenger-master\\\\src\\\\components\\\\App.js\";\nimport React, { useEffect, useState } from 'react';\nimport { FormControl, IconButton, Input, InputLabel } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport db from './Firebase/Firebase';\nimport Message from './Message/Message';\nimport Logo from '../assets/images/logo.png';\nimport './App.css';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('');\n\n  const name = () => {\n    let enterName = '';\n\n    while (!enterName || enterName.length > 16) {\n      enterName = prompt('Please enter your name');\n    }\n\n    return enterName;\n  };\n\n  useEffect(() => {\n    setUsername(name);\n  }, []);\n  useEffect(() => {\n    db.collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      setMessages(snapshot.docs.map(doc => ({\n        id: doc.id,\n        message: doc.data()\n      })));\n    });\n  }, []);\n\n  const updateInput = e => {\n    setInput(e.target.value);\n  };\n\n  const sendMessage = e => {\n    e.preventDefault();\n    db.collection('messages').add({\n      message: input,\n      username: username,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\n    });\n    setInput('');\n  };\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#0b81ff'\n      },\n      secondary: {\n        // This is green.A700 as hex.\n        main: '#0b81ff'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"app__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    className: \"logo\",\n    alt: \"React Messenger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), \" Global-Talk\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Welcome \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, username), \" !\")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"app__form\",\n    onSubmit: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: \"app__formControl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    value: input,\n    onChange: updateInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Type a message...\"), /*#__PURE__*/React.createElement(Input, {\n    className: \"app__input\",\n    color: \"primary\",\n    value: input,\n    onChange: e => setInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    className: \"app__button\",\n    disabled: !input,\n    color: \"primary\",\n    variant: \"contained\",\n    type: \"submit\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 151\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app__messageContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FlipMove, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, messages.map(({\n    id,\n    message\n  }) => /*#__PURE__*/React.createElement(Message, {\n    key: id,\n    username: username,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["E:/Me/Projects/Messanger Clone/React-Messenger-master/src/components/App.js"],"names":["React","useEffect","useState","FormControl","IconButton","Input","InputLabel","SendIcon","firebase","FlipMove","db","Message","Logo","createMuiTheme","ThemeProvider","App","input","setInput","messages","setMessages","username","setUsername","name","enterName","length","prompt","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","updateInput","e","target","value","sendMessage","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","theme","palette","primary","main","secondary"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FormControl, IconButton, Input, InputLabel } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport db from './Firebase/Firebase';\nimport Message from './Message/Message';\nimport Logo from '../assets/images/logo.png';\nimport './App.css';\n\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\n\nfunction App() {\n\n    const [input, setInput] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [username, setUsername] = useState('');\n\n    const name = () => {\n        let enterName = '';\n        while (!enterName || enterName.length > 16) {\n            enterName = prompt('Please enter your name');\n        }\n        return enterName;\n    }\n\n    useEffect(() => {\n        setUsername(name)\n    }, [])\n\n    useEffect(() => {\n        db.collection('messages')\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot => {\n                setMessages(snapshot.docs.map(doc => ({ id: doc.id, message: doc.data() })))\n            })\n    }, [])\n\n    const updateInput = (e) => {\n        setInput(e.target.value)\n    }\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n\n        db.collection('messages').add({\n            message: input,\n            username: username,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\n        });\n        setInput('');\n    }\n\n    const theme = createMuiTheme({\n        palette: {\n            primary: {\n                main: '#0b81ff',\n            },\n            secondary: {\n                // This is green.A700 as hex.\n                main: '#0b81ff',\n            },\n        },\n    });\n\n    return (\n        <div className=\"app\">\n            <header className=\"app__header\">\n                <h1><img src={Logo} className=\"logo\" alt=\"React Messenger\" /> Global-Talk</h1>\n\n                <h3>Welcome <span className=\"bold\">{username}</span> !</h3>\n            </header>\n\n            <form className=\"app__form\" onSubmit={sendMessage}>\n                <ThemeProvider theme={theme}>\n                    <FormControl className=\"app__formControl\">\n                        <InputLabel value={input} onChange={updateInput}>Type a message...</InputLabel>\n                        <Input className=\"app__input\" color=\"primary\" value={input} onChange={(e) => setInput(e.target.value)} />\n                        <IconButton className=\"app__button\" disabled={!input} color=\"primary\" variant=\"contained\" type=\"submit\" onClick={sendMessage}><SendIcon /></IconButton>\n                    </FormControl>\n                </ThemeProvider>\n            </form>\n\n            <div className=\"app__messageContainer\">\n                <FlipMove>\n                    {\n                        messages.map(({ id, message }) => (\n                            <Message key={id} username={username} message={message} />\n                        ))\n                    }\n                </FlipMove>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}